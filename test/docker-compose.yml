version: '2.1'

services:
  mock-server:
    image: mockserver/mockserver
    command: -logLevel INFO -serverPort 1080
    ports:
      - "1080:1080"
  mes-api:
    image: java-spring:0.0.1-SNAPSHOT
    ports:
      - "8080:8080"
    depends_on:
      mock-server:
        condition: service_started
    links:
      - mock-server
    environment:
      TELEGRAM_API: "http://mock-server:1080"
      TELEGRAM_TOKEN: "YYYYYYYY:ZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZ"
      DEFAULT_CHAT_ID: "XXXXXXX"
